(function(){}).call(this);(function(){var $JSCompiler_object_inline_width_0$$,$JSCompiler_object_inline_height_1$$,$JSCompiler_object_inline_force_2$$,$draw$$,$_get_frame$$,$map$$;this.demo_data={nodes:[{id:"400001",name:"Rep. Neil Abercrombie (D, HI-1)",type:"rep",district:1,state:"HI",party:"Democrat"},{id:"400003",name:"Rep. Gary Ackerman (D, NY-5)",type:"rep",district:5,state:"NY",party:"Democrat"},{id:"400004",name:"Rep. Robert Aderholt (R, AL-4)",type:"rep",district:4,state:"AL",party:"Republican"},{id:"400006",name:"Rep. Rodney Alexander (R, LA-5)",
type:"rep",district:5,state:"LA",party:"Republican"},{id:"400013",name:"Sen. Tammy Baldwin (D, WI)",type:"sen","class":0,state:"WI",party:"Democrat"},{id:"400019",name:"Rep. Charles Bass (R, NH-2)",type:"rep",district:2,state:"NH",party:"Republican"},{id:"400027",name:"Rep. Judy Biggert (R, IL-13)",type:"rep",district:13,state:"IL",party:"Republican"},{id:"400028",name:"Rep. Michael Bilirakis (R, FL-9)",type:"rep",district:9,state:"FL",party:"Republican"},{id:"400183",name:"Rep. Tim Holden (D, PA-17)",
type:"rep",district:17,state:"PA",party:"Democrat"},{id:"400187",name:"Rep. John Hostlettler (R, IN-8)",type:"rep",district:8,state:"IN",party:"Republican"},{id:"400196",name:"Rep. Darrell Issa (R, CA-49)",type:"rep",district:49,state:"CA",party:"Republican"},{id:"400157",name:"Rep. Kay Granger (R, TX-12)",type:"rep",district:12,state:"TX",party:"Republican"},{id:"400120",name:"Rep. Rahm Emanuel (D, IL-5)",type:"rep",district:5,state:"IL",party:"Democrat"},{id:"400125",name:"Rep. Bob Etheridge (D, NC-2)",
type:"rep",district:2,state:"NC",party:"Democrat"},{id:"400117",name:"Rep. Jennifer Dunn (R, WA-8)",type:"rep",district:8,state:"WA",party:"Republican"}],edges:[{id:0,source:0,target:1,value:25},{id:1,source:0,target:5,value:37},{id:2,source:1,target:12,value:114},{id:3,source:1,target:4,value:28},{id:4,source:1,target:7,value:19},{id:5,source:2,target:14,value:17},{id:6,source:3,target:14,value:32},{id:7,source:4,target:2,value:37},{id:8,source:5,target:11,value:46},{id:9,source:5,target:13,value:47},
{id:10,source:5,target:7,value:61},{id:11,source:6,target:0,value:132},{id:12,source:6,target:1,value:177},{id:13,source:7,target:14,value:41},{id:14,source:7,target:3,value:98},{id:15,source:8,target:12,value:14},{id:16,source:9,target:2,value:43},{id:17,source:9,target:8,value:31},{id:18,source:9,target:11,value:85},{id:19,source:10,target:3,value:23},{id:20,source:10,target:12,value:41}]};$_get_frame$$=function $$_get_frame$$$($d$$){return document.getElementById($d$$)};$_get_frame$$("appstage");
$map$$=$_get_frame$$("map");$_get_frame$$=$_get_frame$$("appframe");$JSCompiler_object_inline_width_0$$=$_get_frame$$.offsetWidth;$JSCompiler_object_inline_height_1$$=$_get_frame$$.offsetHeight;$JSCompiler_object_inline_force_2$$={strength:0.8,friction:0.7,theta:0.6,gravity:0.075,charge:-80};this.receive=function $this$receive$($data$$){var $edge$$,$_j__ref__ref4_i_edge_o_node_source$$,$_i__len3__native__ref6_index$$,$_l__m_key$$14_node$$,$_len4__ref5_o_edge_payload$$,$source_k$$,$_k__len_target$$,
$_len1__len2$$,$_ref1__ref3$$,$_ref2$$;$_len4__ref5_o_edge_payload$$=JSON.parse($data$$);console.log("payload",$_len4__ref5_o_edge_payload$$);$data$$={objects:{nodes:{},edges:{},natives:{}},index:{edges:{},reverse:{}},graph:{nodes:[],edges:[],orphans:[]}};$_j__ref__ref4_i_edge_o_node_source$$=$_len4__ref5_o_edge_payload$$.data.natives;for($_l__m_key$$14_node$$ in $_j__ref__ref4_i_edge_o_node_source$$)$_i__len3__native__ref6_index$$=$_j__ref__ref4_i_edge_o_node_source$$[$_l__m_key$$14_node$$],$data$$.objects.natives[$_l__m_key$$14_node$$]=
$_i__len3__native__ref6_index$$;$_ref1__ref3$$=$_len4__ref5_o_edge_payload$$.data.edges;$_i__len3__native__ref6_index$$=0;for($_k__len_target$$=$_ref1__ref3$$.length;$_i__len3__native__ref6_index$$<$_k__len_target$$;$_i__len3__native__ref6_index$$++)for($edge$$=$_ref1__ref3$$[$_i__len3__native__ref6_index$$],$_ref2$$=$edge$$.node,$_j__ref__ref4_i_edge_o_node_source$$=0,$_len1__len2$$=$_ref2$$.length;$_j__ref__ref4_i_edge_o_node_source$$<$_len1__len2$$;$_j__ref__ref4_i_edge_o_node_source$$++)$_l__m_key$$14_node$$=
$_ref2$$[$_j__ref__ref4_i_edge_o_node_source$$],null==$data$$.index.edges[$_l__m_key$$14_node$$]&&($data$$.index.edges[$_l__m_key$$14_node$$]=[]),$data$$.index.edges[$_l__m_key$$14_node$$].push($edge$$.key.encoded),null==$data$$.index.reverse[$edge$$]&&($data$$.index.reverse[$edge$$.key.encoded]=[]),$data$$.index.reverse[$edge$$.key.encoded].push($_l__m_key$$14_node$$);$_ref1__ref3$$=$_len4__ref5_o_edge_payload$$.data.nodes;$_k__len_target$$=0;for($_len1__len2$$=$_ref1__ref3$$.length;$_k__len_target$$<
$_len1__len2$$;$_k__len_target$$++)$_l__m_key$$14_node$$=$_ref1__ref3$$[$_k__len_target$$],null!=$data$$.index.edges[$_l__m_key$$14_node$$.key.encoded]&&($_j__ref__ref4_i_edge_o_node_source$$={id:$_l__m_key$$14_node$$.key.id,node:{encoded:$_l__m_key$$14_node$$.key.encoded,"native":$data$$.objects.natives[$_l__m_key$$14_node$$["native"]]}},$_i__len3__native__ref6_index$$=$data$$.graph.nodes.push($_j__ref__ref4_i_edge_o_node_source$$)-1,$_j__ref__ref4_i_edge_o_node_source$$.index=$_i__len3__native__ref6_index$$,
$data$$.objects.nodes[$_l__m_key$$14_node$$.key.encoded]=$_j__ref__ref4_i_edge_o_node_source$$);$_j__ref__ref4_i_edge_o_node_source$$=$_len4__ref5_o_edge_payload$$.data.edges;$_l__m_key$$14_node$$=0;for($_i__len3__native__ref6_index$$=$_j__ref__ref4_i_edge_o_node_source$$.length;$_l__m_key$$14_node$$<$_i__len3__native__ref6_index$$;$_l__m_key$$14_node$$++)$edge$$=$_j__ref__ref4_i_edge_o_node_source$$[$_l__m_key$$14_node$$],$_len4__ref5_o_edge_payload$$={id:$edge$$.key.id,encoded:$edge$$.key.encoded,
"native":$data$$.objects.natives[$edge$$["native"]]},$data$$.objects.edges[$edge$$.key.encoded]=$_len4__ref5_o_edge_payload$$;$_len4__ref5_o_edge_payload$$=$data$$.objects.nodes;for($source_k$$ in $_len4__ref5_o_edge_payload$$)for($_i__len3__native__ref6_index$$=$data$$.index.edges[$source_k$$],$_l__m_key$$14_node$$=0,$_len4__ref5_o_edge_payload$$=$_i__len3__native__ref6_index$$.length;$_l__m_key$$14_node$$<$_len4__ref5_o_edge_payload$$;$_l__m_key$$14_node$$++)$_k__len_target$$=$_i__len3__native__ref6_index$$[$_l__m_key$$14_node$$],
$_j__ref__ref4_i_edge_o_node_source$$=$data$$.objects.nodes[$source_k$$],$_k__len_target$$=$data$$.objects.nodes[$_k__len_target$$],$_j__ref__ref4_i_edge_o_node_source$$&&$_k__len_target$$?($_j__ref__ref4_i_edge_o_node_source$$={edge:$edge$$,source:$_j__ref__ref4_i_edge_o_node_source$$.index,target:$_k__len_target$$.index},$data$$.graph.edges.push($_j__ref__ref4_i_edge_o_node_source$$)):($_j__ref__ref4_i_edge_o_node_source$$={edge:$edge$$,source:$_j__ref__ref4_i_edge_o_node_source$$,target:$_k__len_target$$},
$data$$.graph.orphans.push($_j__ref__ref4_i_edge_o_node_source$$));console.log("interpreted",$data$$);console.log("drawing...");return $draw$$($data$$.graph)};$draw$$=this.draw=function $this$draw$($graph$$){var $force$$;this.d3.scale.category20();$force$$=this.d3.layout.force().linkDistance($JSCompiler_object_inline_force_2$$.distance).linkStrength($JSCompiler_object_inline_force_2$$.strength).friction($JSCompiler_object_inline_force_2$$.friction).charge($JSCompiler_object_inline_force_2$$.charge).theta($JSCompiler_object_inline_force_2$$.theta).gravity($JSCompiler_object_inline_force_2$$.gravity).size([$JSCompiler_object_inline_width_0$$,
$JSCompiler_object_inline_height_1$$]);return function($g$$){var $link$$,$sprite$$,$svg$$;$svg$$=d3.select($map$$);$link$$=$svg$$.selectAll(".link").data($g$$.edges).enter().append("svg").attr("id",function($e$$){return"edge-"+$e$$.edge.id}).append("line").attr("stroke","#999").attr("class","link").style("stroke-width",2);$sprite$$=$svg$$.selectAll(".node").data($g$$.nodes).enter().append("svg").attr("id",function($n$$){return"group-"+$n$$.node.encoded}).attr("width",60).attr("height",60).call($force$$.drag);
$sprite$$.append("g").attr("width",60).attr("height",60).append("circle").attr("r",20).attr("cx",30).attr("cy",30).attr("class","node");this.d3.select("#appstage").on("click",function($n$$){return $force$$.alpha(0.4)});$force$$.on("tick",function($f$$){$link$$.attr("x1",function($d$$){return $d$$.source.x+10}).attr("y1",function($d$$){return $d$$.source.y+10}).attr("x2",function($d$$){return $d$$.target.x+10}).attr("y2",function($d$$){return $d$$.target.y+10});return $sprite$$.attr("x",function($d$$){return $d$$.x-
20}).attr("y",function($d$$){return $d$$.y-20})});return $force$$.nodes($g$$.nodes).links($g$$.edges).start()}($graph$$)}}).call(this);
